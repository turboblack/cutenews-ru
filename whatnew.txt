[info]

- если написано "читайте ридми" это значит "подробнее об этом Вы можете (читай - обязаны) прочесть в readme.html входящем в дистрибутив"
- если не написано - всё равно читайте

[todo]

- рассылка за промежуток времени // только как плагин, значит позже, значительно позже
- деление комментариев на страницы
- проверить и поправить многократное подключение
- глоальный кэш и админка: проверить чё за нах
- вотермарк (Хеллику)
- загрузка картинок с http (Керуше)

[2.5]

- поправлен модуль картинок, нефиг ему заливать что попало
- при удалении категории все её "дети" так же удаляются
- шаблоны перенесены в папку data/tpl при апгрейде скрипт сам попробует создать папку, проставить ей права и перенести туда все шаблоны, но лучше это сделать вручную
- в дистрибутив включён плагин мета тегов, по умолчанию дезактивирован, если выключено кэширование плагин очень много pgt жрёт (из-за плагинских доп. полей, какие-то они тормознутые)
- поправлен апгрейд, не будет теперь проблем с urls.ini и апгрейд теперь не нужно запускать вручную, скрипт сам всё сделает
- переезды (с txtSQL на MySQL, с 02x на 03x) перемещены в папку convert
- обычный кэш по умолчанию включён
- исправлен баг премодерации новостей
- исправлен баг связаный с переключением страниц новости
- исправлен баг с несколькими подключениями, к сожалению, во всём был виноват кэш txtSQL, я боюсь, без кэширования у этой БД появилось больше шансов :(
- в дистрибутив добавлен плагин "Кейворды", это не мета кейворды, а система классификации новостей, посту можно присваивать не только категории, но и кейворды. Ставятся они в общую БД, поэтому каких-то увеличний pgt быть не должно
- теперь снова (возможность была в 029, а в 030 я удалил) можно дополнять .htaccess

[2.4.10]

- это секюрити апгрейд!!! show_news.php из этого дистрибутива нужно взять обязательно!
- немного поправлен календарь, иногда активный день не понимался
- исправлена херня с категориями-"родителями"
- поправлен cn_title()

[2.4.9]

- введён "глобальный кэш" читайте в ридми
- в базувую сборку включён мод remote headlines
- подправлен txtSQL
- в поиск введён поиск по категориям и дате
- исправлена фигня с переключателями страниц
- исправил TrackBack
- поправлен бекап для папки data (был глюк с субдиректориями)
- исправлен глюк с "невидимостью" новостей из определённых категорий
- убита фигня c функцией category_get_children(), раньше она делала кучу ненужных запросов к БД
- мыло человека оставившего комментарий теперь прячется от роботов через яву

[2.4.8]

- убиты мелкие баги с кэшем, категориями, УРЛами

[2.4.7]

- это секюрити апгрейд!!! search.php и head.php из этого дистрибутива нужно взять обязательно!!!
- поправлен запрос (типа урл?some=some) попадющий в УРЛ
- поправлен XMLRPC, когда постишь через него, то "УРЛ" не прописывался и новость была не найдена

[2.4.6]

- исправлен переезд на с txtSQL на MySQL. Теперь 100% рабочий
- минус два запроса к БД при включённом кэше

[2.4.5]

- попытка побороть "слетание" текстовой базы. Надеюсь, получилось
- поправлен бекап (восстановление БД из него) и несколько других не смертельных глюков

[2.4.4]

- поправлен глюк с премодерацией. Раньше он как бы не сохранялся, в любом случае было "Да"
- в скин (админки, естественно :)) default к меню добавлен плюсик рядом с "Настройки", если по нему кликнуть вылезет меню настроек
- поправлено формирование правила для категорий, теперь можно смело использовать категории без префикса (как у нас на сайте)
- поиск исправлен (да, и я ещё в прошлой версии добавил подсветку найденого через CSS класс hilite, забыл написать)
- убиты маленькие недоделы с предпросмотром, ответом админа (при редактировании там были видны br`ы), и статистикой о БД
- исправлен глюк с id новостей, когда открывалась полная новость содержащая цифру эта цифра воспринималась как id, не всегда, но бывало. Теперь всё хорошо
- добавлена возможность бекапить базу MySQL, читайте ридми

[2.4.3]

- исправлена проблема с отображением аватара пользователя в комментариях
- поправлен переезд на мускул
- поправлен переезд с более ранних версий
- исправлено формирование .htaccess

[2.4.2]

- добавлен переезд с txtSQL (текcтовой версии) на MySQL. Читайте ридми
- подправлен класс MySQL. Теперь поиск работает хорошо
- убит баг с загрузкой аватаров
- поправлено формирование УРЛов, читайте в ридми "rUFUs / Управление УРЛами", смотрите там же примеры 

[2.4.1]

- исправлен баг связаный с именами авторов новостей
- апгрейд с 02x теперь переносит и количество просмотров
- форма добавления переехала в inc/show.commentform.php и появился новый фильтр news-allow-commentform
- количество обращений к базе снижено до 6 запросов (в базовой сборке, сиречь, без каких-либо плагинов) при любом кол-ве новостей
- теперь функция category_get_tree() выводит префикс как надо (ровно +1 идёт, а не фиг знает сколько)
- исправлена проблема с премодерацией
- исправлен апгрейд с версии 2.3

[2.4]

- частично вернул УРЛы вида ?id=ID и т.д. "Частично" потому что, если новость разбита на страницы сылки на них будут ?id=ID?page=PAGE. Такие дела. Читайте ридми
- исправлена ошибка с директориями пользователей для картинок
- исправлена проблема с добавлением комментария после введения пароля
- добавлена функция для категорий: category_get_id(). Она получает ID категории из её УРЛа (типа category_get_id($category) даст 5, где $category это УРЛ типа "родитель/наша_категория") и из названия (category_get_id('Наша категория') даст 5, то есть её ID). Более подробно о функциях категорий смотрите в ридми!
- в "управлении УРЛами" plain переименован в home. Во время апгрейда скрипт постарается подправить шаблоны и urls.ini сам
- у меня кончились сигареты, чиорт
- кэш по умолчанию выключен
- config из "управление УРЛами" теперь в в "настройках системы" (закладка "система")
- добавлена возможность разных директорий и файлов, в которых будет открываться новость/категория/etc. при включённом ЧПУ. Читайте ридми
- теперь при редактировании новости автор не изменяется
- всё немного подправлено для нормальной работы с php 5.0.5

[2.3.3]

- поправлен переезд с версий 02x
- языки: всё из папки upgrade перенесено в фаил upgrade.ini
- поправлен модуль "Поиск и Замена"
- новый пункт в настройках системы, вкладке "новости" - "Определённые категории для журналистов". Теперь можно указывать разрешать все категории или нет. Если разрешены только определённые, то для каждого журналиста их нужно установить (для каждого журналиста отдельно)
- "закладки" в настройках системы снова работают как надо и, как и раньше, только в ИЕ и Опере
- немного изменился мод картинок. Во-первых, теперь всё немного симпатявее. Во-вторых, деление на страницы (21 картинка на одной странице). В-третих, картинки сортируются по дате заливки. Последнии залитые картинки теперь всегда на первой странице (если вы не залили больше 21 картинки :))
- даты снова по-русски идут. Как я бы не хотел делать даты через strftime(), а не через date(), но попрежнему, после опыта с календарём, от слова "локаль" муражки по жопе бегают

[2.3.2]

- сделал более приличную имитацию join для txtSQL
- убит баг с многократным, да, опять, подключением (была проблема с txtSQL)
- в последний раз, честно-честно, изменил апгрейд версий. Читайте ридми. Всё стало вроще. Апгрейд в один клик
- и снова баги-баги-баги. Я начинаю себя раздражать

[2.3.1]

- исправлен глюк с УРЛами, если ЧПУ = "yes" и "домашняя страница сайта" находится в директории выше (относительно скрипта, конечно же)

[2.3]

- в images.ini добавлена: remove = "[удалить]"
- для каждой категории можно выбрать свой шаблон. Это системная функция. Есть ещё и плагин позволяющий присваивать свой шаблон для каждой новости
- уменьшено кол-во запросов к базе. В дальнейшем будет снижено ещё больше

[2.3 beta]

- добавлена функция выбора шаблона для категории
- выбор БД. Версия с MySQL работает в тестовом режиме. Из замеченых глюков: перенос базы с версий 02x криво работает. Из несделанного, но нужного: миграция с одной БД на другую.
- исправлен баг с пассвордом при добавлении комментария
- в rufus.ini добавлен: rufus = "не работает, rufus не yes"
- изменён ЧПУ. Настройка стала проще за счёт отказа от УРЛов вида ?get=some&get22=some2. Они, конечно, работать будут, но уже не в полной мере и с возможными неадекватными последствиями. Читайте ридми и смотите urls.ini в папке data или в админке -> управление УРами

[2.2]

- изменён апгрейд версий, читайте в ридми
- в "Приблуды" добавлена cn_title()
- определённые категории для определённого журналиста
- премодерация, по умолчанию выключена. Включить в админке -> настройки системы -> закладка "Новости". Все посты добавленные или отредактированные журналистами не видят пользователи и комментаторы, но видят журналисты, редакторы и админы. Короче, не особо продумано, но я не очень представляю себе это дело
- xfields переделан под плагин
- переписан модуль картинок

[1.3.1]

- глюк с id категорий покоцан. рррррр - вот с какой яростью, ага
- проблема с $number убита-та-та
- чередование фона для постов через CSS cn_news_even и cn_news_odd

[030 beta]

- переход на txtSQL
- маленький "ребрендинг" :)
- вывод за год ($year), месяц ($month), день ($day). Ессно, может работать вкупе с $category
- сортировка по одному из признаков. $sort = array(name, [ASC|DESC]) (или $sort[0] = 'name'; $sort[1] = 'ASC|DESC'), где name это date, author, title, short (кол-во знаков в короткой новости), full (кол-во знаков в полной новости), avatar, category, url, id, views (счётчик просмотров) или comments (счётчик комментариев), ASC или DESC - способы сортировки. ASC (ASCENDING) сортирует по возрастанию, DESC (DESCENDING) - по убыванию. Например, $sort = array('comments', 'DESC') - будет сортировать новости в порядке "у кого больше комментариев"
- чуток переписан вывод новостей, выросло, точнее, понизилось pgt (время генерации страницы)
- вывод для определённого автора: $user = 'автор' или $author = 'автор'
- при загрузки картинки с русским названием это самое название перекодируется в транслит
- $config_chmod (отвечающая за права на чтение/запись, в functions.inc.php) теперь не переменная, а константа chmod (регистр не важен)
- разрезан shows.inc.php, теперь он show.inc.php. За вывод новостей отвечает show.news.php, комментариев - show.comments.php, а за добавление комментария фаил show.addcomment.php
- при просмотре категории-"родителя" выводятся и её субкатегории
- добавил "разрезатель" новости на страницы. <!--nextpage--> - этим, ага, оригинальничить не стал
- изменён вид добавления и редактирования новостей. Терь всё через fieldset`ы и CSS
- при добавлении/редактировании постов и в управлении категориями сделал нормальный, древовидный вывод категорий
- нормальное кеширование
- автопростановка УРЛа к аватару
- вроде как, разобрался с правами и тегом if-logged. Комментатор теперь может править свои каляки, при условии, что админ разрешил правку комментаторам.
- трекбек
- "убрать запись куки для папки, сделать для всего домена, может быть, спасут сессии" - это было в 2do. Сессии спасли
- ЧПУ переделал, теперь это управление УРЛами. От старого rUFUs`а ничего не осталось
- перепесаны полностью под txtSQL все модули categories.mdu, main.mdu, snr.mdu, options.mdu, massactions.mdu, addnews.mdu, editnews.mdu, ipban.mdu, editcomments.mdu, editusers.mdu)
- начат ридми
- решина проблема с хостами с safe mode методом создавания руками
- сделал переключение языков для админки (модуль картинок переписан не будет, по причине его дебильности. К релизу он будет заменён сторонним скриптом. XFields я боюсь, но к релизу перепишу)
- в настройках УРЛов тег {cat} заменён на {сategory}, а {сategory} на {categories}
- исправлена $sort, теперь сортирует как надо (все посты, а не только выводимые)
- убил вернувшийся из зада глюк с новостями со $static = true, которые находились перед основным инклудом (это те (гы), что без $static)
- xfields.mdu так и не посадил на мультиязыки. Лень, аж пиздец
- $static по причине херовой работы теперь массив из переменных. Новости со $static['переменная'] работают как должны, просто $переменная работать не будет

[029]

- исправлены управления ЧПУ. Теперь вам нужно лишь нажать на кнопку "Генерировать". И, вуаля, примеры. Не нужно заходить в шаблоны и т.д. Кеш чиститься чаще: при измненении шаблонов, добавлении категории (реализовано только с субкатегориями, а не обычными, стандартными), редактировании поста, etc. Ваши манипуляции сведены к минимуму. + в "Настройках ЧПУ" появилась ссылка на хелп в системе
- поправлен вид субкатегорий в админке
- если новость открыта (full story), то её не видно в списках других выводов
- убит плагин "rUFUs формат". Эта возможность вновь часть самого ЧПУ
- в кросспостинг и шаблоны ЧПУ добавлена stripslashes(). Теперь не будет проблем с кавычками


[029 beta 6]
- добавлен хак zipbackup: вводите логин и пароль и жмёте "Сохранить". Вся папка data будет зазипована и дана возможность для скачивания. Ничего в этом мире не совершенно, всё иной раз слетает, на. Президенты тоже слетают, на. Жизнь такая, на. Кстати, на, чтобы скачивать data зазипованную нужно ввести логин, пароль и обладать нужными правами (см. фаил zipbackup.php, 4 строка; там есть комментарий)
- добавлен плагин для слежения за новыми комментариями самими же комментаторами. Отписатца незя :)
- в добавление и редактирование новости добавлена ф-ия предпросмотра аватара
- изменена inserttext() для вставки bbCode и смайлов. Работает в Firefox, в IE и немного (теги не окружают текст) в Opera
- поправлен поиск для ЧПУ (включая плагин "rUFUs формат")
- для юзерей добавлен RSS feed (без ЧПУ выглядит как rss.php?show_user=lexa, а с - /users/lexa{расширение_xml_файлов})
- поправил некоторые плагины, в том числе у ЧПУ генерацию .htaccess, а из хаков - show_users.php (перед инклудом можно использовать $bgcolor для смены цвета бордюров и задника; или просто поковырять этот фаил) и rss.php
- макрос {rsslink} немного изменён, теперь ссылка начинается со слеша. Поправьте шаблоны, если пользовали этот макрос
- поставил библиотеку XML-RPC 2.2.1 заместо 2.5f, ибо последняя глючила. Поэтому кросспостинг (см. ниже) и XML-RPC должны норально работать
- исправил все глюки кросспостинга, людей у которых нет ЧПУ, надеюсь, немного порадует тот факт, что и без ЧПУ кросспостить можно и оставлять ссылку на оргинал
- добавил пару фильтров (это для плагинов) к ЧПУ, а в functions.inc.php ф-ию _url(string array) для вычисления УРЛа. Она очень помогла в "rUFUs закладки", поиске и кросспостинге
- изменены CSS для календаря. Примеры смотрите в ридми
- название действия для плагина show-news-php заменено на head. Что более логично: раньше (при жизни Колобка (hint: сказочный персоонаж из теста наскребённого по сусекам, а не ваш покойных сосед-панк-нароман-забулдыга с таким ником) это действие было в show_news.php, теперь же вызывается в head.php)
- плагин субдиректорий прикрутил. Желание выходить за рамки плагина не было, даже наобарот - тяга оставить это только плагином, поэтому не изменена система управления категориями, а в "админке -&gt; субкатегории" нужно определять "главенствующую" категорию. Теоретически, "субкатегорность" бесконечная. Для работы субкатегорий вместо rufus_category() нужно использовать rufus_subcategory(). rufus_subcategory() от rufus_category() отличается только тем, что когда вы задаёте параметры (не вида списка, например drop-down; см. ридми) он возвращает не противоположность (id категрии или её "кличку"), а УРЛ к ней
- плагин популярных (по кол-ву прочтений) постов. rufus_popular(N), где N кол-во выводимых зголовков. Если N не проставлено, то выводится 10
- поправлен вид админки для Firefox
- для комментариев добавлены макросы {avatar} и {title}. Первое - аватар пользователя, второе - заголовок новости
- добавил фильтров для помощи и редактировния шаблонов. Теперь в плагинах можно указывать макросы и ссылку на помощь. Очень удобно. <a href="http://ajfork.berlios.de">Аджею</a> вообще огромное спасибо
- переменная $config_chmod переползла в inc/functions.inc.php. Работает на 100%. Напомню, она содержит в себе права для чтения/записи. CHMOD по умолчанию 0777
- убита какашка с ?mod=editnews&action=editnews&id=[id]&source=<script>alert(document.cookie);</script>
- поправил кеш, при редактировании поста нужный кеш тихонечко стирается
- теперь, если у вас нет mod_rewrite на сервере, но хотца ЧПУ и все его приблуды, откройте в head.php и замените в define('mod_rewrite', true) true на false. Теперь ЧПУ и без mod_rewrite, хм, подрабатывают. Всё дело (в волшебных пузырьках) просходит через запрос (напишите где-нибудь в php файле "echo $_SERVER['QUERY_STRING'];" без кавычек), т.е. в отличии от обычных ЧПУ к этим добавляется в начало знак вопроса, а потом в head.php всё обрабатывается под нужды

[029 beta 5]
- приблуды подключены к шаблонам
- добавлена опция редактирования шаблонов для приблуд
- прописаны макросы и всё посажено на плагины, фильтр «rufus-plugin-template». Пример смотрите в плагине «Закладки» (add-to-bookmark.php)
- удален префикс $_URL['rufus'] при генерации .htaccess из категорий
- добавлена $unic_cache_id при кешировании и уникальности того или иного кеша для подключения
- удалена $from для ЧПУ. $start_from потому что работает намана :)
- убил lt;body onLoad=alert('text')> методом вставления кола в жопу, т.е. через элементарный htmlspecialchars(). Имя и адрес (мыло/линк) автора не должно содержать «плохих» символов. Это, в конце концов, имя, а не говна кусок
- глюк со «смещением» полей комментариев так же жестоко убит, заобно подправлен сам отсыл ответов и т.д.
- в index.php скрипта добавлена переменная $config_chmod несущая в себе CHMOD для автопростановки (полезно) чмодов. По умолчанию идёт 0777, если будете менять - не забудьте ноль в начале проставить (напр.: 0755, а не 755)
- отвязал .htaccess ЧПУшный от главной директории. Не забывайте проставлять «УРЛ» в «Общих настройках ЧПУ» как имя папки (напр.: dir или dir1/dir2), где лежит фаил с выводом новостей
- в ЧПУ добавлены опции: 1) место куды генерировать .htaccess; 2) индекс директории (фаил, который будет отображать новости с ЧПУ)
- дополнена опция "Дополнения .htaccess ", теперь там прописаны все доступные макросы

[029 beta 4]

- лог не вёлся

[029 beta 3]

- лог не вёлся

[029 beta 1-2]

- добавлена возможность поиска по категориям (search.php)
- включена подсветка найденных слов (изменение через CSS-стиль .hilite) и вывод куска текста при поиске
- изменен модуль настроек системы: все настройки рассортированы по категориям
- опциональный выбор создания отдельных папок для каждого пользователя при загрузке картинок
- добавлен вывод новостей определенного пользователя (переменная $show_user = «USER_NAME»;)
- сортировка и массовое удаление пользователей в модуле управления ими
- «уровни доступа» переименованы в «статусы»
- добавлен модули автоматической регистрации пользователей и просмотра списка зарегистрированных пользователей и их профилей (register.php и show_users.php)
- расширенный профиль пользователей
- возможность загрузки аватар пользователями
- ввод дополнительных данных: сайт, ICQ, интересы
- плагин кросспостинга в ЖЖ
- для новотей введены теги форматирования lj-cut, lj user, lj comm и lj synd
- добавлен плагин ЧПУ
- также выбор формата УРЛа (год/месяц/день/пост.хтм или cat/категория/пост.хтм)
- добавление в закладки
- календарь
- вывод по категориям
- RSS для каждой категории в отдельности (по адресу cat/категория/rss.xml, если плагин ЧПУ не включён, то path/to/rss.php?category=ID, где ID это id категории)
- добавлен плагин мультикатегорий. Теперь Вы можете выбирать для новости не одну, а несколько (в пределах двадцати) категорий
- добавлена библиотека XML-RPC (для кросспостинга и постинга довостей через программу)

[028]

- по умолчанию убран плагин ЧПУ. Он будет доведен до совершенства и выкинут отдельно, именно как плагин.
- устранена ошибка в модуле управления картинками. Для админа не создавалась папка и вылетала ошибка, теперь все OK!
- устраненая ошибка при выводе bb-кодов
- изменен менеджер HTML-тэгов в админке. Теперь работает во всех современных браузерах (хотя и уступает старому по функциональности!) и включается одной функцией
- убраны мелкие баги в поисковике
- изменено деление страниц по категориям. Теперь это делается одной функцией, а список выводится на всех страницах сайта, как разделы
- исправлена ошибка при редактировании новостей, при которой нельзя было менять дополнительные поля

[026]

- Добавлен менеджер плагинов и набор включенных плагинов, о каждом из которых можно <a href="http://cutenews.ru/category/4/" target="_blank">почитать на сайте скрипта</a>
- Вывод ссылок на страницах новостей стал сокращенным, если страниц больше 10-ти
- Включена проверка на наличие установочного файла, проверка версии php-интерпретатора и свободного места на сервере
- Теперь русифицированы все даты во всех модулях скрипта. Кроме поля для изменения даты новости (там нужно вводить дату на английском!)
- Изменена страница для печати. Теперь она использует шаблоны
- Изменена RSS-лента. Теперь она также использует шаблоны
- Обновлен модуль "Дополнительные поля", который стал еще более функциональным
- использование кириллических символов в полях
- изменение очередности полей
- три вида типа поля
- выбор категории для каждого поля
- одна строка
- несколько строк
- выпадающее меню
- Включена корректная обработка сохраненных данных для комментариев в Cookie
- Добавлена функция группового вывода даты на несколько новостей за один день